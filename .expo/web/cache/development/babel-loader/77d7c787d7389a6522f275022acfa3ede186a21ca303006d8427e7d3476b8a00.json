{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport axios from 'axios';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SearchScreen = function SearchScreen() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchQuery = _useState2[0],\n    setSearchQuery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResults = _useState4[0],\n    setSearchResults = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var handleSearch = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield axios.get(`https://levelart.up.railway.app/search/user?username=${searchQuery}`);\n        console.log(\"response:\", response);\n        setSearchResults(response.data.data);\n      } catch (error) {\n        console.error('Error searching:', error.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  console.log('Search Results:', searchResults);\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      paddingHorizontal: 10\n    },\n    children: [_jsx(TextInput, {\n      style: {\n        borderWidth: 1,\n        borderColor: 'gray',\n        padding: 10,\n        marginBottom: 10\n      },\n      placeholder: \"Search\",\n      value: searchQuery,\n      onChangeText: setSearchQuery,\n      onSubmitEditing: handleSearch\n    }), loading ? _jsx(Text, {\n      children: \"Loading...\"\n    }) : _jsx(FlatList, {\n      data: searchResults,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: {\n            marginBottom: 10\n          },\n          children: [_jsx(Text, {\n            children: item.username\n          }), \" \"]\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item._id.toString();\n      }\n    })]\n  });\n};\nexport default SearchScreen;","map":{"version":3,"names":["React","useState","View","Text","TextInput","FlatList","axios","jsx","_jsx","jsxs","_jsxs","SearchScreen","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","loading","setLoading","handleSearch","_ref","_asyncToGenerator","response","get","console","log","data","error","message","apply","arguments","style","flex","paddingHorizontal","children","borderWidth","borderColor","padding","marginBottom","placeholder","value","onChangeText","onSubmitEditing","renderItem","_ref2","item","username","keyExtractor","_id","toString"],"sources":["C:/Users/DELL/Documents/Confidentials/levelArtFrontend/screens/SearchScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TextInput, FlatList } from 'react-native';\r\nimport axios from 'axios';\r\n\r\nconst SearchScreen = () => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Make HTTP request to backend API using Axios\r\n      const response = await axios.get(`https://levelart.up.railway.app/search/user?username=${searchQuery}`);\r\n      console.log(\"response:\",response)\r\n      setSearchResults(response.data.data); // Update this line\r\n    } catch (error) {\r\n      console.error('Error searching:', error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  console.log('Search Results:', searchResults);\r\n\r\n  return (\r\n    <View style={{ flex: 1, paddingHorizontal: 10 }}>\r\n      <TextInput\r\n        style={{ borderWidth: 1, borderColor: 'gray', padding: 10, marginBottom: 10 }}\r\n        placeholder=\"Search\"\r\n        value={searchQuery}\r\n        onChangeText={setSearchQuery}\r\n        onSubmitEditing={handleSearch}\r\n      />\r\n      {loading ? (\r\n        <Text>Loading...</Text>\r\n      ) : (\r\n        <FlatList\r\n        data={searchResults}\r\n        renderItem={({ item }) => (\r\n          // Render each search result item (user profile or post)\r\n          <View style={{ marginBottom: 10 }}>\r\n            <Text>{item.username}</Text> {/* Assuming username exists in the data */}\r\n            {/* Render additional information for each search result */}\r\n          </View>\r\n        )}\r\n        keyExtractor={(item) => item._id.toString()}\r\n      />\r\n      \r\n      \r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default SearchScreen;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,QAAA;AAExC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE1B,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzB,IAAAC,SAAA,GAAsCX,QAAQ,CAAC,EAAE,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA3CG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAClC,IAAAI,UAAA,GAA0ChB,QAAQ,CAAC,EAAE,CAAC;IAAAiB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA/CE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAAG,UAAA,GAA8BpB,QAAQ,CAAC,KAAK,CAAC;IAAAqB,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAE1B,IAAMG,YAAY;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAC/B,IAAI;QACFH,UAAU,CAAC,IAAI,CAAC;QAEhB,IAAMI,QAAQ,SAAStB,KAAK,CAACuB,GAAG,CAAE,wDAAuDd,WAAY,EAAC,CAAC;QACvGe,OAAO,CAACC,GAAG,CAAC,WAAW,EAACH,QAAQ,CAAC;QACjCR,gBAAgB,CAACQ,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC;MACtC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAACC,OAAO,CAAC;MAClD,CAAC,SAAS;QACRV,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAAA,gBAZKC,YAAYA,CAAA;MAAA,OAAAC,IAAA,CAAAS,KAAA,OAAAC,SAAA;IAAA;EAAA,GAYjB;EACDN,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEZ,aAAa,CAAC;EAE7C,OACET,KAAA,CAACR,IAAI;IAACmC,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,iBAAiB,EAAE;IAAG,CAAE;IAAAC,QAAA,GAC9ChC,IAAA,CAACJ,SAAS;MACRiC,KAAK,EAAE;QAAEI,WAAW,EAAE,CAAC;QAAEC,WAAW,EAAE,MAAM;QAAEC,OAAO,EAAE,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAE;MAC9EC,WAAW,EAAC,QAAQ;MACpBC,KAAK,EAAE/B,WAAY;MACnBgC,YAAY,EAAE/B,cAAe;MAC7BgC,eAAe,EAAEvB;IAAa,CAC/B,CAAC,EACDF,OAAO,GACNf,IAAA,CAACL,IAAI;MAAAqC,QAAA,EAAC;IAAU,CAAM,CAAC,GAEvBhC,IAAA,CAACH,QAAQ;MACT2B,IAAI,EAAEb,aAAc;MACpB8B,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAA,OAEjBzC,KAAA,CAACR,IAAI;UAACmC,KAAK,EAAE;YAAEO,YAAY,EAAE;UAAG,CAAE;UAAAJ,QAAA,GAChChC,IAAA,CAACL,IAAI;YAAAqC,QAAA,EAAEW,IAAI,CAACC;UAAQ,CAAO,CAAC,KAAC;QAAA,CAEzB,CAAC;MAAA,CACP;MACFC,YAAY,EAAE,SAAAA,aAACF,IAAI;QAAA,OAAKA,IAAI,CAACG,GAAG,CAACC,QAAQ,CAAC,CAAC;MAAA;IAAC,CAC7C,CAGA;EAAA,CACG,CAAC;AAEX,CAAC;AAED,eAAe5C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}