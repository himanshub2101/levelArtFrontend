{"ast":null,"code":"","map":{"version":3,"names":[],"sources":["D:/LevelUp Technology/levelArtFrontend/components/User.js"],"sourcesContent":["// import { StyleSheet, Text, View, Image, Pressable } from \"react-native\";\n// import React, { useContext, useState,useEffect } from \"react\";\n// import { UserType } from \"../UserContext\";\n\n// const User = ({ item }) => {\n//   const { userId, setUserId } = useContext(UserType);\n//   console.log(\"sds\",item);\n//   const [requestSent, setRequestSent] = useState(false);\n//   const sendFollow = async (currentUserId, selectedUserId) => {\n//     try {\n//       const response = await fetch(\"https://levelartbackend-production.up.railway.app/follow\", {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({ currentUserId, selectedUserId }),\n//       });\n\n//       if (response.ok) {\n//         setRequestSent(true);\n//       }\n//     } catch (error) {\n//       console.log(\"error message\", error);\n//     }\n//   };\n\n//   const handleUnfollow = async (targetId) => {\n//     try {\n//       const response = await fetch(\"http://localhost:3000/users/unfollow\", {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({\n//           loggedInUserId: userId,\n//           targetUserId: targetId,\n//         }),\n//       });\n\n//       if(response.ok){\n//           setRequestSent(false);\n//           console.log(\"unfollowed successfully\")\n//       }\n//     } catch (error) {\n//       console.log(\"Error\", error);\n//     }\n//   };\n//   useEffect(() => {\n//     // Reset the requestSent state whenever the userId or item prop changes\n//     setRequestSent(false);\n//   }, [userId, item]);\n//   return (\n//     <View>\n//       <View style={{ flexDirection: \"row\", alignItems: \"center\", gap: 10 }}>\n//         <Image\n//           style={{\n//             width: 40,\n//             height: 40,\n//             borderRadius: 20,\n//             resizeMode: \"contain\",\n//           }}\n//           source={{\n//             uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\",\n//           }}\n//         />\n\n//         <Text style={{ fontSize: 15, fontWeight: \"500\", flex: 1 }}>\n//           {item?.name}\n//         </Text>\n\n//         {requestSent || item?.followers?.includes(userId) ? (\n//           <Pressable\n//             onPress={() => handleUnfollow(item?._id)}\n//             style={{\n//               borderColor: \"#D0D0D0\",\n//               borderWidth: 1,\n//               padding: 10,\n//               marginLeft: 10,\n//               width: 100,\n//               borderRadius: 8,\n//             }}\n//           >\n//             <Text\n//               style={{ textAlign: \"center\", fontSize: 15, fontWeight: \"bold\" }}\n//             >\n//               Following\n//             </Text>\n//           </Pressable>\n//         ) : (\n//           <Pressable\n//             onPress={() => sendFollow(userId, item._id)}\n//             style={{\n//               borderColor: \"#D0D0D0\",\n//               borderWidth: 1,\n//               padding: 10,\n//               marginLeft: 10,\n//               width: 100,\n//               borderRadius: 8,\n//             }}\n//           >\n//             <Text\n//               style={{ textAlign: \"center\", fontSize: 15, fontWeight: \"bold\" }}\n//             >\n//               Follow\n//             </Text>\n//           </Pressable>\n//         )}\n//       </View>\n//     </View>\n//   );\n// };\n\n// export default User;\n\n// const styles = StyleSheet.create({});\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}