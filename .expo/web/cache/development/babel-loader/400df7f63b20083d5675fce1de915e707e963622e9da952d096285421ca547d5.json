{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Feather } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SearchScreen = function SearchScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchQuery = _useState2[0],\n    setSearchQuery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResults = _useState4[0],\n    setSearchResults = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(new Animated.Value(0)),\n    _useState8 = _slicedToArray(_useState7, 1),\n    fadeAnim = _useState8[0];\n  useEffect(function () {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 1000,\n      useNativeDriver: true\n    }).start();\n  }, [searchResults]);\n  var handleSearch = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield axios.get(`https://levelart.up.railway.app/search/user?username=${searchQuery}`);\n        setSearchResults(response.data.data);\n      } catch (error) {\n        console.error('Error searching:', error.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Search\",\n        value: searchQuery,\n        onChangeText: setSearchQuery,\n        onSubmitEditing: handleSearch\n      }), _jsx(TouchableOpacity, {\n        onPress: handleSearch,\n        style: styles.searchIconContainer,\n        children: _jsx(Feather, {\n          name: \"search\",\n          size: 20,\n          color: \"black\"\n        })\n      })]\n    }), loading ? _jsx(Text, {\n      style: styles.loadingText,\n      children: \"Loading...\"\n    }) : _jsx(FlatList, {\n      data: searchResults,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(Animated.View, {\n          style: _objectSpread(_objectSpread({}, styles.resultItem), {}, {\n            opacity: fadeAnim\n          }),\n          children: _jsxs(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate('Profile', {\n                user: item.userna\n              });\n            },\n            style: styles.profileContainer,\n            children: [_jsx(Image, {\n              source: {\n                uri: item.profilePic\n              },\n              style: styles.profilePic,\n              onError: function onError() {\n                return console.log('Error loading profile picture', item);\n              }\n            }), _jsxs(View, {\n              style: styles.userInfo,\n              children: [_jsx(Text, {\n                style: styles.username,\n                children: item.username\n              }), _jsx(Text, {\n                style: styles.bio,\n                children: item.bio\n              })]\n            })]\n          })\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item._id.toString();\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 20,\n    paddingTop: 65,\n    backgroundColor: 'white'\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: 'gray',\n    borderRadius: 25,\n    paddingHorizontal: 15,\n    marginBottom: 10\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 10\n  },\n  searchIconContainer: {\n    marginLeft: 10\n  },\n  loadingText: {\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 16,\n    color: 'black'\n  },\n  resultItem: {\n    marginBottom: 10,\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    borderWidth: 1,\n    borderColor: 'lightgray',\n    borderRadius: 25,\n    backgroundColor: 'white',\n    elevation: 3\n  },\n  profileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  profilePic: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10\n  },\n  userInfo: {\n    flex: 1\n  },\n  username: {\n    fontWeight: 'bold',\n    fontSize: 18\n  },\n  bio: {\n    fontSize: 14,\n    color: 'gray'\n  }\n});\nexport default SearchScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","FlatList","StyleSheet","TouchableOpacity","Animated","Image","Feather","axios","useNavigation","jsx","_jsx","jsxs","_jsxs","SearchScreen","navigation","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","loading","setLoading","_useState7","Value","_useState8","fadeAnim","timing","toValue","duration","useNativeDriver","start","handleSearch","_ref","_asyncToGenerator","response","get","data","error","console","message","apply","arguments","style","styles","container","children","inputContainer","input","placeholder","value","onChangeText","onSubmitEditing","onPress","searchIconContainer","name","size","color","loadingText","renderItem","_ref2","item","_objectSpread","resultItem","opacity","navigate","user","userna","profileContainer","source","uri","profilePic","onError","log","userInfo","username","bio","keyExtractor","_id","toString","create","flex","paddingHorizontal","paddingTop","backgroundColor","flexDirection","alignItems","borderWidth","borderColor","borderRadius","marginBottom","fontSize","paddingVertical","marginLeft","textAlign","marginTop","elevation","width","height","marginRight","fontWeight"],"sources":["C:/Users/VT/Documents/Confidentials/Native Projects/levelArtFrontend/screens/SearchScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, FlatList, StyleSheet, TouchableOpacity, Animated, Image } from 'react-native';\r\nimport { Feather } from '@expo/vector-icons';\r\nimport axios from 'axios';\r\nimport { useNavigation } from '@react-navigation/native'; // Import useNavigation hook\r\n\r\nconst SearchScreen = () => {\r\n  const navigation = useNavigation(); // Use useNavigation hook to get access to navigation prop\r\n\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fadeAnim] = useState(new Animated.Value(0));\r\n\r\n  useEffect(() => {\r\n    Animated.timing(\r\n      fadeAnim,\r\n      {\r\n        toValue: 1,\r\n        duration: 1000,\r\n        useNativeDriver: true,\r\n      }\r\n    ).start();\r\n  }, [searchResults]);\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`https://levelart.up.railway.app/search/user?username=${searchQuery}`);\r\n      setSearchResults(response.data.data);\r\n    } catch (error) {\r\n      console.error('Error searching:', error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.inputContainer}>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Search\"\r\n          value={searchQuery}\r\n          onChangeText={setSearchQuery}\r\n          onSubmitEditing={handleSearch}\r\n        />\r\n        <TouchableOpacity onPress={handleSearch} style={styles.searchIconContainer}>\r\n          <Feather name=\"search\" size={20} color=\"black\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n      {loading ? (\r\n        <Text style={styles.loadingText}>Loading...</Text>\r\n      ) : (\r\n        <FlatList\r\n          data={searchResults}\r\n          renderItem={({ item }) => (\r\n            <Animated.View style={{ ...styles.resultItem, opacity: fadeAnim }}>\r\n              <TouchableOpacity\r\n                onPress={() => navigation.navigate('Profile', { user: item.userna })} // Navigate to Profile screen with user data\r\n                style={styles.profileContainer}\r\n              >\r\n                <Image\r\n                  source={{ uri: item.profilePic }}\r\n                  style={styles.profilePic}\r\n                  onError={() => console.log('Error loading profile picture', item)}\r\n                />\r\n                <View style={styles.userInfo}>\r\n                  <Text style={styles.username}>{item.username}</Text>\r\n                  <Text style={styles.bio}>{item.bio}</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n            </Animated.View>\r\n          )}\r\n          keyExtractor={(item) => item._id.toString()}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingTop: 65,\r\n    backgroundColor: 'white',\r\n  },\r\n  inputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    borderColor: 'gray',\r\n    borderRadius: 25,\r\n    paddingHorizontal: 15,\r\n    marginBottom: 10,\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    fontSize: 16,\r\n    paddingVertical: 10,\r\n    // backgroundColor: '#fafafa',\r\n  },\r\n  searchIconContainer: {\r\n    marginLeft: 10,\r\n  },\r\n  loadingText: {\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n    fontSize: 16,\r\n    color: 'black',\r\n  },\r\n  resultItem: {\r\n    marginBottom: 10,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 20,\r\n    borderWidth: 1,\r\n    borderColor: 'lightgray',\r\n    borderRadius: 25,\r\n    //borderRadius: 50,\r\n    backgroundColor: 'white',\r\n    elevation: 3,\r\n  },\r\n  profileContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  profilePic: {\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 25,\r\n    marginRight: 10,\r\n  },\r\n  userInfo: {\r\n    flex: 1,\r\n  },\r\n  username: {\r\n    fontWeight: 'bold',\r\n    fontSize: 18,\r\n  },\r\n  bio: {\r\n    fontSize: 14,\r\n    color: 'gray',\r\n  },\r\n});\r\n\r\nexport default SearchScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}