{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserType } from \"../UserContext\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProfileScreen = function ProfileScreen() {\n  var _user$followers;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var navigation = useNavigation();\n  var _useContext = useContext(UserType),\n    userId = _useContext.userId,\n    setUserId = _useContext.setUserId;\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield axios.get(`http://localhost:3000/profile/${userId}`);\n          var _user = response.data.user;\n          setUser(_user);\n        } catch (error) {\n          console.log(\"error\", error);\n        }\n      });\n      return function fetchProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  });\n  var logout = function logout() {\n    clearAuthToken();\n  };\n  var clearAuthToken = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield AsyncStorage.removeItem(\"authToken\");\n      console.log(\"Cleared auth token\");\n      navigation.replace(\"Login\");\n    });\n    return function clearAuthToken() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: {\n      marginTop: 55,\n      padding: 15\n    },\n    children: _jsxs(View, {\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\"\n          },\n          children: user == null ? void 0 : user.name\n        }), _jsx(View, {\n          style: {\n            paddingHorizontal: 7,\n            paddingVertical: 5,\n            borderRadius: 8,\n            backgroundColor: \"#D0D0D0\"\n          },\n          children: _jsx(Text, {\n            children: \"Threads.net\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 20,\n          marginTop: 15\n        },\n        children: [_jsx(View, {\n          children: _jsx(Image, {\n            style: {\n              width: 60,\n              height: 60,\n              borderRadius: 30,\n              resizeMode: \"contain\"\n            },\n            source: {\n              uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\"\n            }\n          })\n        }), _jsxs(View, {\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"BTech.\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Movie Buff | Musical Nerd\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Love Yourself\"\n          })]\n        })]\n      }), _jsxs(Text, {\n        style: {\n          color: \"gray\",\n          fontSize: 15,\n          marginTop: 10\n        },\n        children: [user == null ? void 0 : (_user$followers = user.followers) == null ? void 0 : _user$followers.length, \" followers\"]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10,\n          marginTop: 20\n        },\n        children: [_jsx(Pressable, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Edit Profile\"\n          })\n        }), _jsx(Pressable, {\n          onPress: logout,\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Logout\"\n          })\n        })]\n      })]\n    })\n  });\n};\nexport default ProfileScreen;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","UserType","AsyncStorage","useNavigation","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_user$followers","_useState","_useState2","_slicedToArray","user","setUser","navigation","_useContext","userId","setUserId","fetchProfile","_ref","_asyncToGenerator","response","get","data","error","console","log","apply","arguments","logout","clearAuthToken","_ref2","removeItem","replace","View","style","marginTop","padding","children","flexDirection","alignItems","gap","Text","fontSize","fontWeight","name","paddingHorizontal","paddingVertical","borderRadius","backgroundColor","Image","width","height","resizeMode","source","uri","color","followers","length","Pressable","flex","justifyContent","borderColor","borderWidth","onPress","styles","StyleSheet","create"],"sources":["C:/himanshu/threads-app/screens/ProfileScreen.js"],"sourcesContent":["import { StyleSheet, Text, View, Image, Pressable } from \"react-native\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserType } from \"../UserContext\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst ProfileScreen = () => {\r\n  const [user, setUser] = useState(\"\");\r\n  const navigation = useNavigation()\r\n  const { userId, setUserId } = useContext(UserType);\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:3000/profile/${userId}`\r\n        );\r\n        const { user } = response.data;\r\n        setUser(user);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  });\r\n\r\n  const logout = () => {\r\n      clearAuthToken();\r\n  }\r\n  const clearAuthToken = async () => {\r\n      await AsyncStorage.removeItem(\"authToken\");\r\n      console.log(\"Cleared auth token\");\r\n      navigation.replace(\"Login\")\r\n  }\r\n\r\n  return (\r\n    <View style={{ marginTop: 55, padding: 15 }}>\r\n      <View>\r\n        <View style={{ flexDirection: \"row\", alignItems: \"center\", gap: 10 }}>\r\n          <Text style={{ fontSize: 20, fontWeight: \"bold\" }}>{user?.name}</Text>\r\n          <View\r\n            style={{\r\n              paddingHorizontal: 7,\r\n              paddingVertical: 5,\r\n              borderRadius: 8,\r\n              backgroundColor: \"#D0D0D0\",\r\n            }}\r\n          >\r\n            <Text>Threads.net</Text>\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            gap: 20,\r\n            marginTop: 15,\r\n          }}\r\n        >\r\n          <View>\r\n            <Image\r\n              style={{\r\n                width: 60,\r\n                height: 60,\r\n                borderRadius: 30,\r\n                resizeMode: \"contain\",\r\n              }}\r\n              source={{\r\n                uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\",\r\n              }}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>BTech.</Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Movie Buff | Musical Nerd\r\n            </Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Love Yourself\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <Text style={{ color: \"gray\", fontSize: 15, marginTop: 10 }}>\r\n          {user?.followers?.length} followers\r\n        </Text>\r\n        <View style={{flexDirection:\"row\",alignItems:\"center\",gap:10,marginTop:20}}>\r\n          <Pressable\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Edit Profile</Text>\r\n          </Pressable>\r\n\r\n          <Pressable\r\n            onPress={logout}\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Logout</Text>\r\n          </Pressable>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n\r\nconst styles = StyleSheet.create({});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}