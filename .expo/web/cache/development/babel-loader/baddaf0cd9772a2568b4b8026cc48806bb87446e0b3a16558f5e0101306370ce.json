{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserType } from \"../UserContext\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProfileScreen = function ProfileScreen() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    followers = _useState4[0],\n    setFollowers = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    followings = _useState6[0],\n    setFollowings = _useState6[1];\n  var navigation = useNavigation();\n  var _useContext = useContext(UserType),\n    userId = _useContext.userId,\n    setUserId = _useContext.setUserId;\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref = _asyncToGenerator(function* (userId) {\n        try {\n          var response = yield axios.get(`http://localhost:3000/followers/${userId}/followers`);\n          var _response$data = response.data,\n            _user = _response$data.user,\n            _followers = _response$data.followers,\n            _followings = _response$data.followings;\n          setUser(_user);\n          setFollowers(_followers.length);\n          setFollowings(_followings.length);\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error);\n        }\n      });\n      return function fetchProfile(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  }, []);\n  var logout = function logout() {\n    clearAuthToken();\n  };\n  var clearAuthToken = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield AsyncStorage.removeItem(\"authToken\");\n      console.log(\"Cleared auth token\");\n      navigation.replace(\"Login\");\n    });\n    return function clearAuthToken() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: {\n      marginTop: 55,\n      padding: 15\n    },\n    children: _jsxs(View, {\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\"\n          },\n          children: user == null ? void 0 : user.name\n        }), _jsx(View, {\n          style: {\n            paddingHorizontal: 7,\n            paddingVertical: 5,\n            borderRadius: 8,\n            backgroundColor: \"#D0D0D0\"\n          }\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 20,\n          marginTop: 15\n        },\n        children: [_jsx(View, {\n          children: _jsx(Image, {\n            style: {\n              width: 60,\n              height: 60,\n              borderRadius: 30,\n              resizeMode: \"contain\"\n            },\n            source: {\n              uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\"\n            }\n          })\n        }), _jsxs(View, {\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"BTech.\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Movie Buff | Musical Nerd\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Love Yourself\"\n          })]\n        })]\n      }), _jsxs(Text, {\n        style: {\n          color: \"gray\",\n          fontSize: 15,\n          marginTop: 10\n        },\n        children: [followers, \" followers\"]\n      }), _jsxs(Text, {\n        style: {\n          color: \"gray\",\n          fontSize: 15\n        },\n        children: [followings, \" followings\"]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10,\n          marginTop: 20\n        },\n        children: [_jsx(Pressable, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Edit Profile\"\n          })\n        }), _jsx(Pressable, {\n          onPress: logout,\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Logout\"\n          })\n        })]\n      })]\n    })\n  });\n};\nexport default ProfileScreen;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","UserType","AsyncStorage","useNavigation","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","followers","setFollowers","_useState5","_useState6","followings","setFollowings","navigation","_useContext","userId","setUserId","fetchProfile","_ref","_asyncToGenerator","response","get","_response$data","data","length","error","console","_x","apply","arguments","logout","clearAuthToken","_ref2","removeItem","log","replace","View","style","marginTop","padding","children","flexDirection","alignItems","gap","Text","fontSize","fontWeight","name","paddingHorizontal","paddingVertical","borderRadius","backgroundColor","Image","width","height","resizeMode","source","uri","color","Pressable","flex","justifyContent","borderColor","borderWidth","onPress","styles","StyleSheet","create"],"sources":["C:/himanshu/threads-app/screens/ProfileScreen.js"],"sourcesContent":["import { StyleSheet, Text, View, Image, Pressable } from \"react-native\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserType } from \"../UserContext\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst ProfileScreen = () => {\r\n  const [user, setUser] = useState(\"\");\r\n  const [followers, setFollowers] = useState(0);\r\n  const [followings, setFollowings] = useState(0);\r\n  const navigation = useNavigation()\r\n  const { userId, setUserId } = useContext(UserType);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async (userId) => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:3000/followers/${userId}/followers`\r\n        );\r\n        const { user, followers, followings } = response.data;\r\n        setUser(user);\r\n        setFollowers(followers.length);\r\n        setFollowings(followings.length);\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n      }\r\n    };\r\n  \r\n    fetchProfile();\r\n  }, []);\r\n  \r\n  const logout = () => {\r\n      clearAuthToken();\r\n  }\r\n  const clearAuthToken = async () => {\r\n      await AsyncStorage.removeItem(\"authToken\");\r\n      console.log(\"Cleared auth token\");\r\n      navigation.replace(\"Login\")\r\n  }\r\n\r\n  return (\r\n    <View style={{ marginTop: 55, padding: 15 }}>\r\n      <View>\r\n        <View style={{ flexDirection: \"row\", alignItems: \"center\", gap: 10 }}>\r\n          <Text style={{ fontSize: 20, fontWeight: \"bold\" }}>{user?.name}</Text>\r\n          <View\r\n            style={{\r\n              paddingHorizontal: 7,\r\n              paddingVertical: 5,\r\n              borderRadius: 8,\r\n              backgroundColor: \"#D0D0D0\",\r\n            }}\r\n          >\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            gap: 20,\r\n            marginTop: 15,\r\n          }}\r\n        >\r\n          <View>\r\n            <Image\r\n              style={{\r\n                width: 60,\r\n                height: 60,\r\n                borderRadius: 30,\r\n                resizeMode: \"contain\",\r\n              }}\r\n              source={{\r\n                uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\",\r\n              }}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>BTech.</Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Movie Buff | Musical Nerd\r\n            </Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Love Yourself\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <Text style={{ color: \"gray\", fontSize: 15, marginTop: 10 }}>\r\n          {followers} followers\r\n        </Text>\r\n        <Text style={{ color: \"gray\", fontSize: 15 }}>\r\n          {followings} followings\r\n        </Text>\r\n        <View style={{flexDirection:\"row\",alignItems:\"center\",gap:10,marginTop:20}}>\r\n          <Pressable\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Edit Profile</Text>\r\n          </Pressable>\r\n\r\n          <Pressable\r\n            onPress={logout}\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Logout</Text>\r\n          </Pressable>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n\r\nconst styles = StyleSheet.create({});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}